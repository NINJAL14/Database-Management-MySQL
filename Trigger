Trigger Creation: -
The trigger named mytrig1 is created using CREATE OR REPLACE TRIGGER. 
It is set to fire BEFORE any DELETE, INSERT, or UPDATE operation on the employee table.
Condition to Restrict Operations:
The trigger checks if the current day (SYSDATE) is either Saturday (sat) or Sunday (sun). 
It also checks if the current time 
(SYSDATE) is not within the working hours of 08:30 AM to 06:30 PM (18:30).
Trigger Action (Restriction Enforcement):
If either of these conditions is met, the trigger prevents the operation by raising an application error: 
Sql  -- RAISE_APPLICATION_ERROR(-20500, 'table is secured'); 
This means that any attempt to modify the employee table outside the allowed timeframe will fail with the error message "table is secured".

OUTPUT:

mysql> CREATE DATABASE trigger_test;
Query OK, 1 row affected (0.01 sec)

mysql> USE trigger_test;
Database changed

mysql> CREATE TABLE employee (
    ->     EmpID INT AUTO_INCREMENT PRIMARY KEY,
    ->     EmpName VARCHAR(100),
    ->     Department VARCHAR(50),
    ->     Salary INT
    -> );
Query OK, 0 rows affected (0.02 sec)

mysql> INSERT INTO employee (EmpName, Department, Salary) VALUES
    -> ('Alice', 'HR', 40000),
    -> ('Bob', 'Finance', 55000),
    -> ('Charlie', 'IT', 60000);
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql> CREATE TRIGGER trg_before_insert
    -> BEFORE INSERT ON employee
    -> FOR EACH ROW
    -> BEGIN
    ->     IF DAYOFWEEK(CURDATE()) IN (1, 7)   -- 1=Sunday, 7=Saturday
    ->        OR TIME(NOW()) NOT BETWEEN '08:30:00' AND '18:30:00' THEN
    ->         SIGNAL SQLSTATE '45000'
    ->         SET MESSAGE_TEXT = 'Table is secured: Insert not allowed now';
    ->     END IF;
    -> END$$
Query OK, 0 rows affected (0.02 sec)

mysql> CREATE TRIGGER trg_before_update
    -> BEFORE UPDATE ON employee
    -> FOR EACH ROW
    -> BEGIN
    ->     IF DAYOFWEEK(CURDATE()) IN (1, 7)
    ->        OR TIME(NOW()) NOT BETWEEN '08:30:00' AND '18:30:00' THEN
    ->         SIGNAL SQLSTATE '45000'
    ->         SET MESSAGE_TEXT = 'Table is secured: Update not allowed now';
    ->     END IF;
    -> END$$
Query OK, 0 rows affected (0.01 sec)


mysql> CREATE TRIGGER trg_before_delete
    -> BEFORE DELETE ON employee
    -> FOR EACH ROW
    -> BEGIN
    ->     IF DAYOFWEEK(CURDATE()) IN (1, 7)
    ->        OR TIME(NOW()) NOT BETWEEN '08:30:00' AND '18:30:00' THEN
    ->         SIGNAL SQLSTATE '45000'
    ->         SET MESSAGE_TEXT = 'Table is secured: Delete not allowed now';
    ->     END IF;
    -> END$$
Query OK, 0 rows affected (0.01 sec)

\mysql> -- Try INSERT
Query OK, 0 rows affected (0.00 sec)

mysql> INSERT INTO employee (EmpName, Department, Salary)
    -> VALUES ('David', 'HR', 50000);
ERROR 1644 (45000): Table is secured: Insert not allowed now
mysql>
mysql> -- Try UPDATE
Query OK, 0 rows affected (0.00 sec)

mysql> UPDATE employee SET Salary = 70000 WHERE EmpID = 1;
ERROR 1644 (45000): Table is secured: Update not allowed now
mysql>
mysql> -- Try DELETE
Query OK, 0 rows affected (0.00 sec)

mysql> DELETE FROM employee WHERE EmpID = 2;
ERROR 1644 (45000): Table is secured: Delete not allowed now
mysql> DROP TRIGGER trg_before_insert;
Query OK, 0 rows affected (0.01 sec)
